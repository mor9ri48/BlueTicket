<% @page_title = "便の詳細" %>
<h1><%= @page_title %></h1>

<p><%= link_to "便一覧に戻る", :airline_flights %></p>

<table>
  <thead>
    <th>便名</th>
    <th>出発地</th>
    <th>到着地</th>
    <th>出発日時</th>
    <th>到着日時</th>
    <th>クラス</th>
    <th>料金</th>
    <th>枚数</th>
    <th>運航/欠航</th>
    <th>操作</th>
  </thead>
  <tbody>
    <tr>
      <td rowspan=4 ><%= @flight.name%></td>
      <td rowspan=4 ><%= Airport.where(id: @flight.origin_id)[0].name %></td>
      <td rowspan=4 ><%= Airport.where(id: @flight.destination_id)[0].name %></td>
      <td rowspan=4 ><%= @flight.departure_date.strftime("%Y年%-m月%d日") %><br><%= @flight.departure_time.strftime("%-H時%M分") %></td>
      <td rowspan=4 ><%= @flight.arrival_date.strftime("%Y年%-m月%d日") %><br><%= @flight.arrival_time.strftime("%-H時%M分") %></td>
    </tr>
    <tr>
      <td>エコノミー</td>
      <td>¥<%= @flight.price %>円</td>
      <td>残りN枚</td>
    </tr>
    <tr>
      <td>ビジネス</td>
      <td>¥<%= @flight.price + 2000 %>円</td>
      <td>残りM枚</td>
      <td style="text-align: center">
        <% if @flight.operation %>運航
        <% else %>欠航
        <% end %>
      </td>
      <td style="text-align: center">
        <% if @flight.operation %><%= link_to "欠航", [:airline, @flight], method: :patch, data: { confirm: "本当に欠航しますか？" } %>
        <% else %><%= link_to "運航", [:airline, @flight], method: :patch, data: { confirm: "本当に運航しますか？" } %>
        <% end %>
      </td>
    </tr>
    <tr>
      <td>ファースト</td>
      <td>¥<%= @flight.price + 10000 %>円</td>
      <td>残りL枚</td>
    </tr>
  </tbody>
  <thead>
    <th>チェックイン状況</th>
  </thead>
  <tbody>
    <%# 座席のチェックイン状況を記述する%>
  </tbody>
</table>